<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEALTH MINDS SAVING - Group Management</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
:root {
  --primary: #1e5631;
  --primary-dark: #154325;
  --secondary: #d96b0c;
  --success: #2e7d32;
  --light: #f8fafc;
  --dark: #1e293b;
  --gray: #64748b;
  --light-gray: #e2e8f0;
  --white: #ffffff;
  --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --radius: 12px;
}
body {
  background: linear-gradient(135deg, #f0f8f0 0%, #e6f4e6 100%);
  min-height: 100vh;
  padding: 20px;
  color: var(--dark);
}
.container {
  max-width: 1200px;
  margin: 0 auto;
}
.hidden {
  display: none !important;
}
.group-banner {
  text-align: center;
  margin-bottom: 20px;
  padding: 12px;
  background: rgba(30, 86, 49, 0.05);
  border-radius: var(--radius);
  font-weight: 600;
  color: var(--primary);
  font-size: 18px;
  border: 1px dashed #a5d6a7;
  box-shadow: 0 2px 6px rgba(30, 86, 49, 0.05);
}
/* ===== MOBILE SIDEBAR ===== */
.hamburger {
  display: none;
  flex-direction: column;
  width: 30px;
  height: 21px;
  cursor: pointer;
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1001;
}
.hamburger span {
  height: 3px;
  background: var(--dark);
  border-radius: 2px;
  transition: 0.3s;
}
.hamburger span:not(:last-child) { margin-bottom: 4px; }
.hamburger.active span:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}
.hamburger.active span:nth-child(2) {
  opacity: 0;
}
.hamburger.active span:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s;
}
.overlay.active {
  opacity: 1;
  visibility: visible;
}
.login-container {
  max-width: 450px;
  margin: 60px auto;
  background: var(--white);
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
  overflow: hidden;
}
.login-header {
  background: var(--primary);
  color: white;
  padding: 24px;
  text-align: center;
}
.login-header h2 {
  font-size: 24px;
  font-weight: 600;
}
.login-body {
  padding: 32px;
}
.form-group {
  margin-bottom: 24px;
}
.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: var(--dark);
}
.form-control {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--light-gray);
  border-radius: 8px;
  font-size: 16px;
  transition: border 0.3s;
}
.form-control:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(30, 86, 49, 0.1);
}
.btn {
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  border: none;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 16px;
  width: 100%;
}
.btn-primary {
  background: var(--primary);
  color: white;
}
.btn-primary:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(30, 86, 49, 0.2);
}
.role-selector {
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
}
.role-btn {
  flex: 1;
  padding: 12px;
  border: 2px solid var(--light-gray);
  border-radius: 8px;
  background: var(--white);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}
.role-btn.active {
  border-color: var(--primary);
  background: rgba(30, 86, 49, 0.1);
  color: var(--primary);
}
.dashboard {
  display: grid;
  grid-template-columns: 250px 1fr;
  gap: 24px;
  min-height: 80vh;
}
@media (max-width: 768px) {
  .dashboard {
    grid-template-columns: 1fr;
  }
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 250px;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    z-index: 1000;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }
  .main-content {
    margin-left: 0;
  }
  .hamburger { display: flex; }
}
.sidebar {
  background: var(--white);
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
  padding: 24px 0;
}
.user-info {
  padding: 0 24px 24px;
  border-bottom: 1px solid var(--light-gray);
  margin-bottom: 16px;
}
.user-avatar {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 24px;
  margin-bottom: 12px;
}
.user-name {
  font-weight: 600;
  font-size: 18px;
  margin-bottom: 4px;
}
.user-role {
  font-size: 14px;
  color: var(--gray);
}
.nav-links {
  list-style: none;
}
.nav-links li {
  margin-bottom: 4px;
}
.nav-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 24px;
  color: var(--dark);
  text-decoration: none;
  font-weight: 500;
  border-left: 4px solid transparent;
  transition: all 0.2s;
}
.nav-link:hover, .nav-link.active {
  background: rgba(30, 86, 49, 0.1);
  border-left-color: var(--primary);
  color: var(--primary);
}
.nav-link i {
  width: 24px;
  text-align: center;
}
.main-content {
  background: var(--white);
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
  padding: 24px;
  overflow: hidden;
}
.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--light-gray);
}
.dashboard-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--dark);
}
.logout-btn {
  background: none;
  color: var(--gray);
  padding: 8px 16px;
  border: 1px solid var(--light-gray);
  border-radius: 8px;
}
.logout-btn:hover {
  background: #fef3c7;
  color: var(--secondary);
  border-color: #fde68a;
}
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}
.stat-card {
  background: white;
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--card-shadow);
  text-align: center;
  border-top: 4px solid var(--primary);
}
.stat-value {
  font-size: 28px;
  font-weight: 700;
  margin: 12px 0;
  color: var(--primary);
}
.stat-label {
  color: var(--gray);
  font-size: 14px;
}
.table-container {
  overflow-x: auto;
  margin-top: 24px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}
table {
  width: 100%;
  border-collapse: collapse;
  background: white;
}
th {
  background: var(--light);
  text-align: left;
  padding: 16px;
  font-weight: 600;
  color: var(--dark);
  border-bottom: 2px solid var(--light-gray);
}
td {
  padding: 16px;
  border-bottom: 1px solid var(--light-gray);
}
tr:last-child td {
  border-bottom: none;
}
.status {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
}
.status-active {
  background: rgba(46, 125, 50, 0.15);
  color: var(--success);
}
.status-pending {
  background: rgba(217, 107, 12, 0.15);
  color: var(--secondary);
}
.borrow-amount {
  color: var(--primary);
  font-weight: 600;
}
.tab-content {
  animation: fadeIn 0.3s ease;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
footer {
  text-align: center;
  padding: 30px 0 20px;
  color: var(--gray);
  font-size: 14px;
  margin-top: 40px;
  border-top: 1px solid var(--light-gray);
}
.currency::before {
  content: "UGX ";
  font-weight: bold;
}
</style>
</head>
<body>
<div class="container">
  <!-- Group Banner -->
  <div class="group-banner">
    <i class="fas fa-heartbeat"></i> WELCOME TO <strong>HEALTH MINDS SAVING</strong> GROUP • Budaka, Uganda
  </div>

  <!-- Hamburger & Overlay -->
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div class="overlay" id="overlay"></div>

  <!-- Login Page -->
  <div id="loginPage" class="login-container">
    <div class="login-header">
      <h2>HEALTH MINDS SAVING Login</h2>
      <p style="font-size:14px; margin-top:8px; opacity:0.9;">Secure Group Management System</p>
    </div>
    <div class="login-body">
      <div class="role-selector">
        <button class="role-btn active" data-role="member">Member</button>
        <button class="role-btn" data-role="admin">Administrator</button>
      </div>
      <form id="loginForm">
        <div class="form-group">
          <label for="username">Username / Member ID</label>
          <input type="text" id="username" class="form-control"
            placeholder="Admin: hms.admin | Member: HMS-001" required>
        </div>
        <div class="form-group">
          <label for="password">Password / PIN</label>
          <input type="password" id="password" class="form-control"
            placeholder="Admin: H3@lthM1nd$2025! | Member: 1234"
            minlength="4" maxlength="20" required>
        </div>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-sign-in-alt"></i> Log In
        </button>
      </form>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div id="adminDashboard" class="hidden">
    <div class="dashboard">
      <div class="sidebar" id="adminSidebar">
        <div class="user-info">
          <div class="user-avatar">HMS</div>
          <div class="user-name">Admin Dashboard</div>
          <div class="user-role">HEALTH MINDS SAVING</div>
        </div>
        <ul class="nav-links" id="adminNav">
          <li><a href="#dashboard" class="nav-link active" data-tab="dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
          <li><a href="#members" class="nav-link" data-tab="members"><i class="fas fa-users"></i> Members</a></li>
          <li><a href="#savings" class="nav-link" data-tab="savings"><i class="fas fa-wallet"></i> Savings</a></li>
          <li><a href="#loans" class="nav-link" data-tab="loans"><i class="fas fa-hand-holding-usd"></i> Loans</a></li>
          <li><a href="#reports" class="nav-link" data-tab="reports"><i class="fas fa-chart-line"></i> Reports</a></li>
          <li><a href="#guarantees" class="nav-link" data-tab="guarantees"><i class="fas fa-shield-alt"></i> Guarantees</a></li>
          <li><a href="#settings" class="nav-link" data-tab="settings"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
      </div>
      <div class="main-content">
        <div class="dashboard-header">
          <h2 class="dashboard-title" id="adminPageTitle">Administrator Dashboard</h2>
          <button class="btn logout-btn" id="adminLogout">
            <i class="fas fa-sign-out-alt"></i> Log Out
          </button>
        </div>

        <!-- DASHBOARD TAB -->
        <div id="dashboardTab" class="tab-content">
          <div class="stats-grid">
            <div class="stat-card">
              <div>Active Members</div>
              <div class="stat-value" id="totalMembers">28</div>
              <div class="stat-label">Total registered</div>
            </div>
            <div class="stat-card">
              <div>Total Savings</div>
              <div class="stat-value currency" id="totalSavings">4,750,000</div>
              <div class="stat-label">Group savings pool</div>
            </div>
            <div class="stat-card">
              <div>Total Interest</div>
              <div class="stat-value currency" id="totalInterest">215,000</div>
              <div class="stat-label">Lifetime collected</div>
            </div>
            <div class="stat-card">
              <div>Active Loans</div>
              <div class="stat-value" id="activeLoans">7</div>
              <div class="stat-label">Currently outstanding</div>
            </div>
          </div>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 24px;">
            <div>
              <h3 style="margin-bottom: 16px; font-weight: 600;">Pending Loan Requests</h3>
              <div class="table-container">
                <table id="pendingLoansTable">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Member</th>
                      <th>Amount (UGX)</th>
                      <th>Purpose</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>HMS-018</td>
                      <td>Sarah Johnson</td>
                      <td class="currency">50,000</td>
                      <td>Medical</td>
                      <td>
                        <button class="btn btn-sm approve-loan" data-id="HMS-018" data-amount="50000" style="padding:4px 8px; font-size:12px; background:#10b981; margin-right:4px;">✓ Approve</button>
                        <button class="btn btn-sm" style="padding:4px 8px; font-size:12px; background:#ef4444; color:white;">✗ Reject</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div>
              <h3 style="margin-bottom: 16px; font-weight: 600;">Recent Activity</h3>
              <div style="background:white; border-radius:8px; padding:16px; height:220px; overflow-y:auto;">
                <div style="display:flex; margin-bottom:12px;">
                  <div style="width:36px; height:36px; background:#e0f2fe; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#2563eb; margin-right:12px;"><i class="fas fa-plus"></i></div>
                  <div>
                    <div><strong>HMS-029</strong> joined group</div>
                    <div style="font-size:12px; color:#64748b;">Just now</div>
                  </div>
                </div>
                <div style="display:flex; margin-bottom:12px;">
                  <div style="width:36px; height:36px; background:#dcfce7; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#16a34a; margin-right:12px;"><i class="fas fa-money-bill"></i></div>
                  <div>
                    <div><strong>HMS-005</strong> saved <span class="currency">25,000</span></div>
                    <div style="font-size:12px; color:#64748b;">2 hours ago</div>
                  </div>
                </div>
                <div style="display:flex;">
                  <div style="width:36px; height:36px; background:#fef3c7; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#d97706; margin-right:12px;"><i class="fas fa-hand-holding-usd"></i></div>
                  <div>
                    <div>Loan approved for <strong>HMS-012</strong></div>
                    <div style="font-size:12px; color:#64748b;">Yesterday</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- MEMBERS TAB -->
        <div id="membersTab" class="tab-content hidden">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 style="font-weight:600;">Manage Members</h3>
            <button class="btn btn-primary" id="addMemberBtn" style="background:#1e5631;">
              <i class="fas fa-plus"></i> Add New Member
            </button>
          </div>
          <div id="addMemberForm" class="hidden" style="background:#f8fafc; border-radius:12px; padding:24px; margin-bottom:24px; border:1px solid #e2e8f0;">
            <h4 style="margin-bottom:16px; color:#1e293b;">Add New Member</h4>
            <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:16px;">
              <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="newMemberName" class="form-control" placeholder="e.g., David Ochieng" required>
              </div>
              <div class="form-group">
                <label>Contact</label>
                <input type="tel" id="newMemberPhone" class="form-control" placeholder="e.g., +256 772 123456" required>
              </div>
              <div class="form-group">
                <label>Village/Parish</label>
                <input type="text" id="newMemberLocation" class="form-control" placeholder="e.g., Kireka, Wakiso" required>
              </div>
              <div class="form-group">
                <label>Registration Fee (UGX)</label>
                <input type="number" id="newMemberFee" class="form-control" value="5000" min="0" required>
              </div>
            </div>
            <div style="display:flex; gap:12px; margin-top:20px;">
              <button type="button" class="btn btn-primary" id="saveMemberBtn">
                <i class="fas fa-save"></i> Save Member
              </button>
              <button type="button" class="btn" id="cancelAddMember" style="background:#e2e8f0; color:#475569;">
                Cancel
              </button>
            </div>
          </div>
          <div class="table-container">
            <table id="membersTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>Location</th>
                  <th>Savings (UGX)</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>HMS-001</td>
                  <td>Kafuko Esther</td>
                  <td>+256 789173143</td>
                  <td>Kira, Wakiso</td>
                  <td class="currency">250,000</td>
                  <td><span class="status status-active">Active</span></td>
                  <td>
                    <button class="btn-sm edit-member" data-id="HMS-001" style="padding:4px 8px; background:#e2e8f0; color:#475569; margin-right:4px;"><i class="fas fa-edit"></i></button>
                    <button class="btn-sm delete-member" data-id="HMS-001" style="padding:4px 8px; background:#fee2e2; color:#ef4444;"><i class="fas fa-trash"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>HMS-005</td>
                  <td>Kanyagoli Javice</td>
                  <td>+256 708714111</td>
                  <td>Budaka, Budaka township</td>
                  <td class="currency">170,000</td>
                  <td><span class="status status-active">Active</span></td>
                  <td>
                    <button class="btn-sm edit-member" data-id="HMS-005" style="padding:4px 8px; background:#e2e8f0; color:#475569; margin-right:4px;"><i class="fas fa-edit"></i></button>
                    <button class="btn-sm delete-member" data-id="HMS-005" style="padding:4px 8px; background:#fee2e2; color:#ef4444;"><i class="fas fa-trash"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>HMS-012</td>
                  <td>Tigawa Ronald</td>
                  <td>+256 700195136</td>
                  <td>Budaka, Budaka township</td>
                  <td class="currency">420,000</td>
                  <td><span class="status status-active">Active</span></td>
                  <td>
                    <button class="btn-sm edit-member" data-id="HMS-012" style="padding:4px 8px; background:#e2e8f0; color:#475569; margin-right:4px;"><i class="fas fa-edit"></i></button>
                    <button class="btn-sm delete-member" data-id="HMS-012" style="padding:4px 8px; background:#fee2e2; color:#ef4444;"><i class="fas fa-trash"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>HMS-018</td>
                  <td>Wemishe Benjamin</td>
                  <td>+256 702217235</td>
                  <td>Budaka township</td>
                  <td class="currency">100,000</td>
                  <td><span class="status status-pending">Pending</span></td>
                  <td>
                    <button class="btn-sm edit-member" data-id="HMS-018" style="padding:4px 8px; background:#e2e8f0; color:#475569; margin-right:4px;"><i class="fas fa-edit"></i></button>
                    <button class="btn-sm delete-member" data-id="HMS-018" style="padding:4px 8px; background:#fee2e2; color:#ef4444;"><i class="fas fa-trash"></i></button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- SAVINGS TAB -->
        <div id="savingsTab" class="tab-content hidden">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 style="font-weight:600;">Update Member Savings</h3>
            <div style="display:flex; gap:12px;">
              <select id="savingsMemberSelect" class="form-control" style="width:auto;">
                <option value="">Select Member</option>
                <option value="HMS-001">HMS-001 - Kafuko Esther</option>
                <option value="HMS-005">HMS-005 - Kanyagoli Javice</option>
                <option value="HMS-012">HMS-012 - Tigawa Ronald</option>
              </select>
              <button class="btn btn-primary" id="recordSavingsBtn" disabled>
                <i class="fas fa-plus-circle"></i> Record Savings
              </button>
            </div>
          </div>
          <div id="savingsForm" class="hidden" style="background:#f0fdf4; border-radius:12px; padding:24px; margin-bottom:24px; border:1px solid #bbf7d0;">
            <h4 style="margin-bottom:16px; color:#166534;">Record Weekly Savings for <span id="savingsMemberName">John Doe</span></h4>
            <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:16px;">
              <div class="form-group">
                <label>Amount (UGX)</label>
                <input type="number" id="savingsAmount" class="form-control" value="25000" min="5000" step="5000">
              </div>
              <div class="form-group">
                <label>Date</label>
                <input type="date" id="savingsDate" class="form-control" value="2025-12-28">
              </div>
              <div class="form-group">
                <label>Payment Method</label>
                <select id="savingsMethod" class="form-control">
                  <option>Cash</option>
                  <option>Mobile Money</option>
                  <option>Bank Transfer</option>
                </select>
              </div>
            </div>
            <div style="display:flex; gap:12px; margin-top:20px;">
              <button type="button" class="btn btn-success" id="saveSavingsBtn">
                <i class="fas fa-save"></i> Save Savings
              </button>
              <button type="button" class="btn" id="cancelSavings" style="background:#e2e8f0; color:#475569;">
                Cancel
              </button>
            </div>
          </div>
          <h3 style="margin:24px 0 16px; font-weight:600;">Savings History</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Member ID</th>
                  <th>Name</th>
                  <th>Amount (UGX)</th>
                  <th>Method</th>
                  <th>Updated By</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Dec 28, 2025</td>
                  <td>HMS-001</td>
                  <td>Kafuko Esther</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td>Cash</td>
                  <td>Admin</td>
                </tr>
                <tr>
                  <td>Dec 21, 2025</td>
                  <td>HMS-005</td>
                  <td>Kanyagoli Javice</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td>Mobile Money</td>
                  <td>Admin</td>
                </tr>
                <tr>
                  <td>Dec 28, 2025</td>
                  <td>HMS-012</td>
                  <td>Tigawa Ronald</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td>Bank Transfer</td>
                  <td>Admin</td>
                </tr>
                <tr>
                  <td>Dec 28, 2025</td>
                  <td>HMS-001</td>
                  <td>Kafuko Esther</td>
                  <td class="borrow-amount currency">+5,000</td>
                  <td>Cash</td>
                  <td>Admin</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- LOANS TAB -->
        <div id="loansTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Members with Active Loans</h3>
          <div class="table-container">
            <table id="activeLoansTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Member</th>
                  <th>Loan Amount (UGX)</th>
                  <th>Interest (UGX)</th>
                  <th>Total Due (UGX)</th>
                  <th>Disbursed</th>
                  <th>Due Date</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>HMS-001</td>
                  <td>Kafuko Esther</td>
                  <td class="currency">100,000</td>
                  <td class="currency">5,000</td>
                  <td class="currency">105,000</td>
                  <td>Dec 15, 2025</td>
                  <td>Jan 26, 2026</td>
                  <td><span class="status status-active">Active</span></td>
                </tr>
                <tr>
                  <td>HMS-005</td>
                  <td>Kanyagoli Javice</td>
                  <td class="currency">40,000</td>
                  <td class="currency">2,000</td>
                  <td class="currency">42,000</td>
                  <td>Dec 10, 2025</td>
                  <td>Jan 21, 2026</td>
                  <td><span class="status status-active">Active</span></td>
                </tr>
                <tr>
                  <td>HMS-012</td>
                  <td>Tigawa Ronald</td>
                  <td class="currency">200,000</td>
                  <td class="currency">10,000</td>
                  <td class="currency">210,000</td>
                  <td>Dec 22, 2025</td>
                  <td>Feb 2, 2026</td>
                  <td><span class="status status-active">Active</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <h3 style="margin:32px 0 16px; font-weight:600;">Loan Settings</h3>
          <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
            <div class="overview-card" style="text-align:left;">
              <div class="overview-title">Loan Parameters</div>
              <div style="margin:12px 0;">
                <strong>Max Loan:</strong> 70% of savings<br>
                <strong>Interest Rate:</strong> 10% flat<br>
                <strong>Repayment Period:</strong> 6 weeks<br>
                <strong>Processing Fee:</strong> UGX 2,000
              </div>
              <button class="btn btn-primary" style="width:100%;" id="editLoanSettings">
                <i class="fas fa-edit"></i> Edit Settings
              </button>
            </div>
            <div class="overview-card" style="text-align:left;">
              <div class="overview-title">Loan Performance</div>
              <div style="margin:12px 0;">
                <div><strong>Loans Issued (2025):</strong> 24</div>
                <div><strong>Default Rate:</strong> 0%</div>
                <div><strong>Avg. Repayment Time:</strong> 5.2 weeks</div>
                <div><strong>Interest Collected (2025):</strong> <span class="currency">187,500</span></div>
              </div>
            </div>
          </div>
        </div>

        <!-- REPORTS TAB -->
        <div id="reportsTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Financial Reports</h3>
          <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px; margin-bottom:24px;">
            <div class="overview-card">
              <div class="overview-title">Total Savings</div>
              <div class="overview-value currency">4,750,000</div>
              <div class="overview-desc">As of Dec 28, 2025</div>
            </div>
            <div class="overview-card">
              <div class="overview-title">Total Interest Collected</div>
              <div class="overview-value currency" id="reportInterest">215,000</div>
              <div class="overview-desc">Lifetime (2023–2025)</div>
            </div>
            <div class="overview-card">
              <div class="overview-title">Cash in Hand</div>
              <div class="overview-value currency">320,000</div>
              <div class="overview-desc">Treasurer's balance</div>
            </div>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Report Type</th>
                  <th>Period</th>
                  <th>Generated</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Monthly Savings Report</td>
                  <td>Dec 2025</td>
                  <td>Dec 28, 2025</td>
                  <td>
                    <button class="btn btn-sm download-pdf" style="padding:4px 8px; background:#e0f2fe; color:#2563eb;"><i class="fas fa-download"></i> PDF</button>
                  </td>
                </tr>
                <tr>
                  <td>Loan Portfolio Report</td>
                  <td>Q4 2025</td>
                  <td>Dec 25, 2025</td>
                  <td>
                    <button class="btn btn-sm download-pdf" style="padding:4px 8px; background:#e0f2fe; color:#2563eb;"><i class="fas fa-download"></i> PDF</button>
                  </td>
                </tr>
                <tr>
                  <td>Annual Financial Statement</td>
                  <td>2025</td>
                  <td>Dec 20, 2025</td>
                  <td>
                    <button class="btn btn-sm download-pdf" style="padding:4px 8px; background:#e0f2fe; color:#2563eb;"><i class="fas fa-download"></i> PDF</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- GUARANTEES TAB -->
        <div id="guaranteesTab" class="tab-content hidden">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 style="font-weight:600;">Guarantee Management</h3>
            <div style="display:flex; gap:10px;">
              <button class="btn" style="background:#e2e8f0; color:#475569;" id="viewPendingGuarantees">
                <i class="fas fa-clock"></i> Pending (2)
              </button>
              <button class="btn btn-primary export-guarantee" style="background:#1e5631;">
                <i class="fas fa-download"></i> Export Report
              </button>
            </div>
          </div>
          <div class="stats-grid">
            <div class="stat-card">
              <div>Total Guarantees</div>
              <div class="stat-value">42</div>
              <div class="stat-label">Since group inception</div>
            </div>
            <div class="stat-card">
              <div>Active Guarantees</div>
              <div class="stat-value">18</div>
              <div class="stat-label">Currently in force</div>
            </div>
            <div class="stat-card">
              <div>Guarantee Value</div>
              <div class="stat-value currency">2,150,000</div>
              <div class="stat-label">Total liability covered</div>
            </div>
            <div class="stat-card">
              <div>Default Rate</div>
              <div class="stat-value">0%</div>
              <div class="stat-label">All guarantees honored</div>
            </div>
          </div>
          <h3 style="margin:32px 0 16px; font-weight:600;">Approved Guarantees</h3>
          <div class="table-container">
            <table id="approvedGuaranteesTable">
              <thead>
                <tr>
                  <th>Loan ID</th>
                  <th>Borrower</th>
                  <th>Loan Amount (UGX)</th>
                  <th>Guarantors</th>
                  <th>Total Guaranteed (UGX)</th>
                  <th>Approved</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>LN-2025-042</td>
                  <td>HMS-001 (John Doe)</td>
                  <td class="currency">80,000</td>
                  <td>Tigawa Ronald, Kanyagoli Javice</td>
                  <td class="currency">84,000</td>
                  <td>Nov 15, 2025</td>
                  <td><span class="status status-active">Active</span></td>
                </tr>
                <tr>
                  <td>LN-2025-038</td>
                  <td>HMS-012 (Tigawa Ronald)</td>
                  <td class="currency">120,000</td>
                  <td>Kafuko Esther, Kanyagoli Javice</td>
                  <td class="currency">126,000</td>
                  <td>Oct 30, 2025</td>
                  <td><span class="status status-active">Active</span></td>
                </tr>
                <tr>
                  <td>LN-2025-031</td>
                  <td>HMS-005 (Kanyagoli Javice)</td>
                  <td class="currency">40,000</td>
                  <td>Kafuko Esther, Tigawa Ronald</td>
                  <td class="currency">42,000</td>
                  <td>Sep 10, 2025</td>
                  <td><span class="status status-active">Repaid</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <h3 style="margin:32px 0 16px; font-weight:600;">Guarantee Performance</h3>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:24px;">
            <div class="overview-card">
              <h4 style="margin-bottom:16px; font-weight:600; color:#1e293b;">Top Guarantors</h4>
              <div style="margin-bottom:12px; display:flex; justify-content:space-between;">
                <div><strong>Tigawa Ronald (HMS-012)</strong></div>
                <div>UGX 420,000</div>
              </div>
              <div style="margin-bottom:12px; display:flex; justify-content:space-between;">
                <div><strong>Kanyagoli Javice (HMS-005)</strong></div>
                <div>UGX 385,000</div>
              </div>
              <div style="margin-bottom:12px; display:flex; justify-content:space-between;">
                <div><strong>Kafuko Esther (HMS-001)</strong></div>
                <div>UGX 252,000</div>
              </div>
            </div>
            <div class="overview-card">
              <h4 style="margin-bottom:16px; font-weight:600; color:#1e293b;">Guarantee Distribution</h4>
              <div style="height:180px; display:flex; align-items:end; gap:8px; padding:10px 0;">
                <div style="width:40px; background:#dcfce7; border-radius:4px 4px 0 0; height:100%;"></div>
                <div style="width:40px; background:#bae6fd; border-radius:4px 4px 0 0; height:90%;"></div>
                <div style="width:40px; background:#feca9d; border-radius:4px 4px 0 0; height:60%;"></div>
                <div style="width:40px; background:#e0e7ff; border-radius:4px 4px 0 0; height:40%;"></div>
                <div style="width:40px; background:#fef3c7; border-radius:4px 4px 0 0; height:20%;"></div>
              </div>
              <div style="font-size:13px; color:#64748b; display:flex; justify-content:space-between; margin-top:8px;">
                <span>Business</span><span>Medical</span><span>School</span><span>Agric</span><span>Other</span>
              </div>
            </div>
          </div>
        </div>

        <!-- SETTINGS TAB -->
        <div id="settingsTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Admin Settings</h3>
          <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:24px;">
            <div class="overview-card">
              <h4 style="margin-bottom:16px; color:#1e293b;"><i class="fas fa-shield-alt"></i> Security</h4>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>PIN Timeout</span>
                <span>5 minutes</span>
              </div>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>Failed Login Lock</span>
                <span>3 attempts</span>
              </div>
              <div style="display:flex; justify-content:space-between; margin-bottom:16px;">
                <span>Data Backup</span>
                <span>Daily (auto)</span>
              </div>
              <button class="btn configure-security" style="width:100%; background:#e2e8f0; color:#475569;">
                <i class="fas fa-cog"></i> Configure Security
              </button>
            </div>
            <div class="overview-card">
              <h4 style="margin-bottom:16px; color:#1e293b;"><i class="fas fa-users-cog"></i> Group Settings</h4>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>Group Name</span>
                <span>HEALTH MINDS SAVING</span>
              </div>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>Meeting Day</span>
                <span>Sundays, 2:00 PM</span>
              </div>
              <div style="display:flex; justify-content:space-between; margin-bottom:16px;">
                <span>Weekly Contribution</span>
                <span>UGX 5000</span>
              </div>
              <button class="btn edit-group-info" style="width:100%; background:#e2e8f0; color:#475569;">
                <i class="fas fa-edit"></i> Edit Group Info
              </button>
            </div>
          </div>
          <div class="overview-card" style="margin-top:24px;">
            <h4 style="margin-bottom:16px; color:#1e293b;"><i class="fas fa-user-shield"></i> Admin Accounts</h4>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Username</th>
                    <th>Role</th>
                    <th>Last Login</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>hms.admin</td>
                    <td>Super Admin</td>
                    <td>Dec 28, 2025 · 10:30 AM</td>
                    <td><span class="status status-active">Active</span></td>
                    <td>
                      <button class="btn btn-sm edit-admin" style="padding:4px 8px; background:#e2e8f0;"><i class="fas fa-edit"></i></button>
                    </td>
                  </tr>
                  <tr>
                    <td>treasurer</td>
                    <td>Treasurer</td>
                    <td>Dec 27, 2025 · 4:15 PM</td>
                    <td><span class="status status-active">Active</span></td>
                    <td>
                      <button class="btn btn-sm edit-admin" style="padding:4px 8px; background:#e2e8f0;"><i class="fas fa-edit"></i></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <button class="btn btn-primary add-admin-user" style="margin-top:16px;">
              <i class="fas fa-plus"></i> Add Admin User
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Member Dashboard -->
  <div id="memberDashboard" class="hidden">
    <div class="dashboard">
      <div class="sidebar" id="memberSidebar">
        <div class="user-info">
          <div class="user-avatar">JD</div>
          <div class="user-name">Kafuko Esther</div>
          <div class="user-role">Member | HMS-001</div>
        </div>
        <ul class="nav-links" id="memberNav">
          <li><a href="#dashboard" class="nav-link active" data-tab="dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
          <li><a href="#savings" class="nav-link" data-tab="savings"><i class="fas fa-wallet"></i> My Savings</a></li>
          <li><a href="#borrow" class="nav-link" data-tab="borrow"><i class="fas fa-hand-holding-usd"></i> Borrow Funds</a></li>
          <li><a href="#guarantee-request" class="nav-link" data-tab="guarantee-request"><i class="fas fa-file-contract"></i> Request Guarantee</a></li>
          <li><a href="#guarantee-approve" class="nav-link" data-tab="guarantee-approve"><i class="fas fa-check-circle"></i> Approve Guarantee</a></li>
          <li><a href="#history" class="nav-link" data-tab="history"><i class="fas fa-history"></i> Transaction History</a></li>
          <li><a href="#report" class="nav-link" data-tab="report"><i class="fas fa-chart-pie"></i> Savings Report</a></li>
          <li><a href="#guarantees" class="nav-link" data-tab="guarantees"><i class="fas fa-shield-alt"></i> My Guarantees</a></li>
        </ul>
      </div>
      <div class="main-content">
        <div class="dashboard-header">
          <h2 class="dashboard-title" id="memberPageTitle">Member Dashboard</h2>
          <button class="btn logout-btn" id="memberLogout">
            <i class="fas fa-sign-out-alt"></i> Log Out
          </button>
        </div>

        <!-- DASHBOARD TAB -->
        <div id="memberDashboardTab" class="tab-content">
          <div class="member-overview">
            <div class="overview-card">
              <div class="overview-title">Your Total Savings</div>
              <div class="overview-value currency">250,000</div>
              <div class="overview-desc">Saved over 10 weeks</div>
            </div>
            <div class="overview-card">
              <div class="overview-title">Loan Eligible Amount</div>
              <div class="overview-value currency">125,000</div>
              <div class="overview-desc">70% of your savings</div>
            </div>
          </div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:24px; margin-top:24px;">
            <div>
              <h3 style="margin-bottom:16px; font-weight:600;">Guarantee Requests</h3>
              <div style="background:#fff8e1; border-radius:12px; padding:16px; border:1px solid #ffecb3;">
                <div style="display:flex; align-items:center; margin-bottom:12px;">
                  <i class="fas fa-exclamation-triangle" style="color:#d97706; font-size:20px; margin-right:10px;"></i>
                  <strong>You have 2 pending guarantee requests</strong>
                </div>
                <button class="btn" style="width:100%; background:#fef3c7; color:#92400e;" id="viewGuaranteeRequests">
                  <i class="fas fa-eye"></i> View Requests
                </button>
              </div>
            </div>
            <div>
              <h3 style="margin-bottom:16px; font-weight:600;">Your Guarantees</h3>
              <div style="display:flex; gap:12px;">
                <div class="overview-card" style="text-align:center; padding:16px;">
                  <div style="font-size:24px; font-weight:700; color:#1e5631;">3</div>
                  <div style="font-size:14px; color:#64748b;">Provided</div>
                </div>
                <div class="overview-card" style="text-align:center; padding:16px;">
                  <div style="font-size:24px; font-weight:700; color:#dc2626;">1</div>
                  <div style="font-size:14px; color:#64748b;">Pending</div>
                </div>
              </div>
            </div>
          </div>
          <h3 style="margin:32px 0 16px; font-weight:600;">Recent Transactions</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Description</th>
                  <th>Amount (UGX)</th>
                  <th>Balance (UGX)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Dec 28, 2025</td>
                  <td>Weekly Savings</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td class="currency">250,000</td>
                </tr>
                <tr>
                  <td>Dec 21, 2025</td>
                  <td>Weekly Savings</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td class="currency">225,000</td>
                </tr>
                <tr>
                  <td>Dec 14, 2025</td>
                  <td>Guarantee Fee</td>
                  <td class="borrow-amount currency">-1,000</td>
                  <td class="currency">200,000</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- MY SAVINGS TAB -->
        <div id="memberSavingsTab" class="tab-content hidden">
          <div class="member-overview">
            <div class="overview-card">
              <div class="overview-title">Total Savings</div>
              <div class="overview-value currency">250,000</div>
              <div class="overview-desc">Lifetime contributions</div>
            </div>
            <div class="overview-card">
              <div class="overview-title">Next Contribution Due</div>
              <div class="overview-value">Sun, Jan 4, 2026</div>
              <div class="overview-desc">UGX 25,000</div>
            </div>
          </div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:24px; margin-top:24px;">
            <div class="overview-card">
              <h4 style="margin-bottom:16px; font-weight:600; color:#1e293b;">Savings Breakdown</h4>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>Weekly Savings (10)</span>
                <span class="currency">250,000</span>
              </div>
              <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                <span>Registration Fee</span>
                <span class="currency">5,000</span>
              </div>
              <div style="display:flex; justify-content:space-between; font-weight:600; border-top:1px solid #e2e8f0; padding-top:12px;">
                <span>Total</span>
                <span class="currency">255,000</span>
              </div>
            </div>
            <div class="overview-card">
              <h4 style="margin-bottom:16px; font-weight:600; color:#1e293b;">Savings Growth</h4>
              <div style="height:180px; display:flex; align-items:end; gap:8px; padding:10px 0;">
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">25k</div>
                <div style="width:30px; background:#dcfce7; border-radius:4px 4px 0 0; height:60%; display:flex; justify-content:center; align-items:start; color:#166534; font-size:12px;">......</div>
              </div>
              <div style="font-size:13px; color:#64748b; text-align:center; margin-top:8px;">Weekly contributions (UGX)</div>
            </div>
          </div>
          <button class="btn btn-primary download-savings-statement" style="margin-top:24px; background:#1e5631;">
            <i class="fas fa-download"></i> Download Savings Statement
          </button>
        </div>

        <!-- BORROW FUNDS TAB -->
        <div id="memberBorrowTab" class="tab-content hidden">
          <div class="borrow-section">
            <div class="borrow-title">
              <i class="fas fa-hand-holding-usd"></i>
              <h3>Borrow Against Your Savings</h3>
            </div>
            <p style="margin-bottom:16px;">You can borrow up to <strong>70%</strong> of your current savings balance. Repayment in 4–8 weeks at 5% interest.</p>
            <div class="borrow-info">
              <div>Your Savings Balance: <strong class="currency">250,000</strong></div>
              <div>Maximum Borrowable: <strong class="currency">125,000</strong></div>
              <div>Interest (10%): <strong class="currency">12,300</strong></div>
            </div>
            <form class="borrow-form" id="borrowForm">
              <div class="form-group">
                <label for="borrowAmount">Amount to Borrow (UGX)</label>
                <input type="number" id="borrowAmount" class="form-control" min="10000" max="125000" step="5000" placeholder="e.g., 50000" required>
              </div>
              <div class="form-group">
                <label for="borrowPurpose">Purpose of Loan</label>
                <select id="borrowPurpose" class="form-control" required>
                  <option value="">Select purpose</option>
                  <option value="medical">Medical Emergency</option>
                  <option value="school-fees">School Fees</option>
                  <option value="business">Small Business</option>
                  <option value="agriculture">Agriculture/Farming</option>
                  <option value="home">Home Improvement</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div class="form-group">
                <label>
                  <input type="checkbox" id="agreeTerms" required>
                  I agree to repay this loan in <strong>6 weeks</strong> with 10% interest without refusal.
                </label>
              </div>
              <button type="submit" class="btn btn-success">
                <i class="fas fa-paper-plane"></i> Submit Loan Request
              </button>
            </form>
          </div>
          <div style="margin-top:24px; background:#f0f9ff; border-radius:12px; padding:20px; border:1px solid #bae6fd;">
            <h4 style="margin-bottom:12px; color:#0c4a6e;"><i class="fas fa-info-circle"></i> Guarantee Requirement</h4>
            <p style="margin-bottom:12px;">Loans above <strong>UGX 50,000</strong> require <strong>2 guarantors</strong> from the group.</p>
            <button class="btn" style="background:#dbeafe; color:#1d4ed8;" id="requestGuaranteeBtn">
              <i class="fas fa-file-contract"></i> Request Guarantors
            </button>
          </div>
        </div>

        <!-- REQUEST GUARANTEE TAB -->
        <div id="memberGuaranteeRequestTab" class="tab-content hidden">
          <div style="background:#fff8e1; border-radius:12px; padding:20px; margin-bottom:24px; border:1px solid #ffecb3;">
            <h4 style="margin-bottom:12px; color:#92400e;"><i class="fas fa-exclamation-triangle"></i> Guarantee Guidelines</h4>
            <ul style="padding-left:20px; margin-bottom:0;">
              <li style="margin-bottom:8px;">Guarantors must be active members with savings ≥ UGX 200,000</li>
              <li style="margin-bottom:8px;">Each guarantor can guarantee up to 70% of their savings</li>
              <li>Guarantee fee: 0.5% of loan amount (paid by borrower)</li>
            </ul>
          </div>
          <h3 style="margin-bottom:16px; font-weight:600;">Request Guarantee for Loan</h3>
          <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px; margin-bottom:24px;">
            <div class="overview-card">
              <div class="overview-title">Loan Details</div>
              <div style="margin:12px 0;">
                <div><strong>Amount:</strong> UGX 100,000</div>
                <div><strong>Purpose:</strong> Business</div>
                <div><strong>Interest:</strong> UGX 10,000</div>
                <div><strong>Total Due:</strong> UGX 11,000</div>
              </div>
            </div>
            <div class="overview-card">
              <div class="overview-title">Guarantee Required</div>
              <div style="margin:12px 0;">
                <div><strong>Number of Guarantors:</strong> 2</div>
                <div><strong>Guarantee per Person:</strong> UGX 52,500</div>
                <div><strong>Fee (0.5%):</strong> UGX 500</div>
              </div>
            </div>
          </div>
          <h4 style="margin:24px 0 16px; font-weight:600;">Select Guarantors</h4>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Member ID</th>
                  <th>Name</th>
                  <th>Savings (UGX)</th>
                  <th>Guarantee Capacity (UGX)</th>
                  <th>Select</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>HMS-005</td>
                  <td>Kanyagoli Javice</td>
                  <td class="currency">170,000</td>
                  <td class="currency">85,000</td>
                  <td><input type="checkbox" name="guarantor" value="HMS-005"></td>
                </tr>
                <tr>
                  <td>HMS-012</td>
                  <td>Tigawa Ronald</td>
                  <td class="currency">420,000</td>
                  <td class="currency">210,000</td>
                  <td><input type="checkbox" name="guarantor" value="HMS-012" checked></td>
                </tr>
              </tbody>
            </table>
          </div>
          <button class="btn btn-primary" style="margin-top:20px; background:#1e5631;" id="submitGuaranteeRequest">
            <i class="fas fa-paper-plane"></i> Submit Guarantee Request
          </button>
        </div>

        <!-- APPROVE GUARANTEE TAB -->
        <div id="memberGuaranteeApproveTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Pending Guarantee Requests</h3>
          <div class="table-container">
            <table id="guaranteeRequestsTable">
              <thead>
                <tr>
                  <th>Borrower</th>
                  <th>Loan Amount (UGX)</th>
                  <th>Your Guarantee (UGX)</th>
                  <th>Purpose</th>
                  <th>Requested</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>HMS-018 (Wemishe Benjamin)</td>
                  <td class="currency">50,000</td>
                  <td class="currency">26,250</td>
                  <td>Medical</td>
                  <td>Dec 27, 2025</td>
                  <td>
                    <button class="btn btn-sm approve-guarantee" data-action="approve" data-id="req-001" style="padding:6px 12px; background:#10b981; color:white; margin-right:6px;">
                      <i class="fas fa-check"></i> Approve
                    </button>
                    <button class="btn btn-sm reject-guarantee" data-action="reject" data-id="req-001" style="padding:6px 12px; background:#ef4444; color:white;">
                      <i class="fas fa-times"></i> Reject
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- TRANSACTION HISTORY TAB -->
        <div id="memberHistoryTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Transaction History</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Type</th>
                  <th>Description</th>
                  <th>Amount (UGX)</th>
                  <th>Balance (UGX)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Dec 28, 2025</td>
                  <td><span class="status status-active" style="background:#dcfce7; color:#166534;">Savings</span></td>
                  <td>Weekly contribution</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td class="currency">250,000</td>
                </tr>
                <tr>
                  <td>Dec 21, 2025</td>
                  <td><span class="status status-active" style="background:#dcfce7; color:#166534;">Savings</span></td>
                  <td>Weekly contribution</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td class="currency">225,000</td>
                </tr>
                <tr>
                  <td>Dec 14, 2025</td>
                  <td><span class="status" style="background:#fef3c7; color:#92400e;">Fee</span></td>
                  <td>Guarantee processing fee</td>
                  <td class="borrow-amount currency">-1,000</td>
                  <td class="currency">200,000</td>
                </tr>
                <tr>
                  <td>Dec 7, 2025</td>
                  <td><span class="status status-active" style="background:#dcfce7; color:#166534;">Savings</span></td>
                  <td>Weekly contribution</td>
                  <td class="borrow-amount currency">+25,000</td>
                  <td class="currency">201,000</td>
                </tr>
                <tr>
                  <td>Nov 30, 2025</td>
                  <td><span class="status" style="background:#dbeafe; color:#1d4ed8;">Loan</span></td>
                  <td>Loan disbursed (HMS-001)</td>
                  <td class="borrow-amount currency">-100,000</td>
                  <td class="currency">176,000</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="text-align:center; margin-top:20px;">
            <button class="btn" style="background:#e2e8f0; color:#475569; width:auto; padding:10px 20px;">
              <i class="fas fa-history"></i> Load More History
            </button>
          </div>
        </div>

        <!-- SAVINGS REPORT TAB -->
        <div id="memberReportTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">Your Savings Report</h3>
          <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:20px; margin-bottom:24px;">
            <div class="overview-card" style="text-align:left; padding:20px; background:#f0fdf4; border:1px solid #bbf7d0;">
              <div class="overview-title">Year-to-Date (2025)</div>
              <div style="font-size:24px; font-weight:700; color:#166534;" class="currency">250,000</div>
              <div style="font-size:14px; color:#64748b;">Total contributions</div>
            </div>
            <div class="overview-card" style="text-align:left; padding:20px; background:#f0f9ff; border:1px solid #bae6fd;">
              <div class="overview-title">Avg. Weekly Savings</div>
              <div style="font-size:24px; font-weight:700; color:#1d4ed8;" class="currency">25,000</div>
              <div style="font-size:14px; color:#64748b;">Over 10 weeks</div>
            </div>
            <div class="overview-card" style="text-align:left; padding:20px; background:#fff8e1; border:1px solid #ffecb3;">
              <div class="overview-title">Group Rank</div>
              <div style="font-size:24px; font-weight:700; color:#92400e;">#3 of 28</div>
              <div style="font-size:14px; color:#64748b;">Among active members</div>
            </div>
          </div>
          <h4 style="margin:24px 0 12px; font-weight:600;">Monthly Breakdown</h4>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Month</th>
                  <th>Contributions</th>
                  <th>Missed Weeks</th>
                  <th>Total (UGX)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>December 2025</td>
                  <td>4/4</td>
                  <td>0</td>
                  <td class="currency">100,000</td>
                </tr>
                <tr>
                  <td>November 2025</td>
                  <td>4/4</td>
                  <td>0</td>
                  <td class="currency">100,000</td>
                </tr>
                <tr>
                  <td>October 2025</td>
                  <td>2/4</td>
                  <td>2</td>
                  <td class="currency">50,000</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="text-align:center; margin-top:24px;">
            <button class="btn btn-primary download-report-pdf" style="background:#1e5631;">
              <i class="fas fa-file-pdf"></i> Download Full Report (PDF)
            </button>
          </div>
        </div>

        <!-- MY GUARANTEES TAB -->
        <div id="memberGuaranteesTab" class="tab-content hidden">
          <h3 style="margin-bottom:16px; font-weight:600;">My Guarantees</h3>
          <div class="stats-grid" style="margin-bottom:24px;">
            <div class="stat-card">
              <div>Guarantees Provided</div>
              <div class="stat-value">3</div>
              <div class="stat-label">Active commitments</div>
            </div>
            <div class="stat-card">
              <div>Total Liability</div>
              <div class="stat-value currency">182,000</div>
              <div class="stat-label">Maximum exposure</div>
            </div>
            <div class="stat-card">
              <div>Pending Requests</div>
              <div class="stat-value">1</div>
              <div class="stat-label">Awaiting your action</div>
            </div>
            <div class="stat-card">
              <div>Completed</div>
              <div class="stat-value">5</div>
              <div class="stat-label">Fully repaid loans</div>
            </div>
          </div>
          <h4 style="margin:24px 0 12px; font-weight:600;">Active Guarantees</h4>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Borrower</th>
                  <th>Loan Amount</th>
                  <th>Your Share</th>
                  <th>Due Date</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>HMS-005 (Kanyagoli Javice)</td>
                  <td class="currency">40,000</td>
                  <td class="currency">21,000</td>
                  <td>Jan 21, 2026</td>
                  <td><span class="status status-active">On Track</span></td>
                </tr>
                <tr>
                  <td>HMS-012 (Tigawa Ronald)</td>
                  <td class="currency">120,000</td>
                  <td class="currency">63,000</td>
                  <td>Feb 2, 2026</td>
                  <td><span class="status status-active">On Track</span></td>
                </tr>
                <tr>
                  <td>HMS-018 (Wemishe Benjamin)</td>
                  <td class="currency">50,000</td>
                  <td class="currency">26,250</td>
                  <td>Jan 18, 2026</td>
                  <td><span class="status status-pending">Pending Approval</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="margin-top:24px; background:#f0fdf4; border-radius:12px; padding:20px; border:1px solid #bbf7d0;">
            <h4 style="margin-bottom:12px; color:#166534;"><i class="fas fa-shield-alt"></i> Guarantee Policy Reminder</h4>
            <p style="font-size:14px; color:#475569;">
              You are liable for the full guaranteed amount if the borrower defaults. Always review their repayment history before approving.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>© 2025 HEALTH MINDS SAVING | Budaka, Uganda</p>
    <p style="font-size:13px; margin-top:6px; color:#64748b;">
      Empowering communities through collective savings • Registered under Uganda SACCO Societies Regulatory Authority
    </p>
    <p>Copyright 2025.<strong>By Rana website designers & and computer solutions.</strong> All rights reserved</p>
  </footer>
</div>

<script>
// Format UGX numbers
function formatUGX(num) {
  return new Intl.NumberFormat('en-UG').format(num);
}
function applyCurrencyFormatting() {
  document.querySelectorAll('.currency').forEach(el => {
    const text = el.textContent.trim();
    if (text.includes(',')) return;
    const clean = text.replace(/[^\d]/g, '');
    const num = parseInt(clean);
    if (!isNaN(num)) {
      el.textContent = formatUGX(num);
    }
  });
}

// DOM Elements
const loginPage = document.getElementById('loginPage');
const adminDashboard = document.getElementById('adminDashboard');
const memberDashboard = document.getElementById('memberDashboard');
const roleButtons = document.querySelectorAll('.role-btn');
const loginForm = document.getElementById('loginForm');
const adminLogout = document.getElementById('adminLogout');
const memberLogout = document.getElementById('memberLogout');

// Role selection
roleButtons.forEach(button => {
  button.addEventListener('click', () => {
    roleButtons.forEach(btn => btn.classList.remove('active'));
    button.classList.add('active');
  });
});

// Login
loginForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value;
  const selectedRole = document.querySelector('.role-btn.active').dataset.role;

  const isAdmin = (selectedRole === 'admin') && (
    (username === 'hms.admin' && password === 'H3@lthM1nd$2025!') ||
    (username === 'admin' && password === 'admin123')
  );

  const isMember = (selectedRole === 'member') && (
    (username === 'HMS-001' && password === '1234') ||
    (username === 'HMS-005' && password === '5678')
  );

  if (isAdmin) {
    loginPage.classList.add('hidden');
    adminDashboard.classList.remove('hidden');
    applyCurrencyFormatting();
  } else if (isMember) {
    loginPage.classList.add('hidden');
    memberDashboard.classList.remove('hidden');
    applyCurrencyFormatting();
  } else {
    alert(
      '❌ Login failed!\n✅ Try these working credentials:\n' +
      '• Admin:\nUsername: hms.admin\nPassword: H3@lthM1nd$2025!\n' +
      '  (or admin / admin123)\n' +
      '• Member:\nUsername: HMS-001\nPassword: 1234'
    );
  }
});

// Logout
adminLogout.addEventListener('click', () => {
  adminDashboard.classList.add('hidden');
  loginPage.classList.remove('hidden');
  loginForm.reset();
});
memberLogout.addEventListener('click', () => {
  memberDashboard.classList.add('hidden');
  loginPage.classList.remove('hidden');
  loginForm.reset();
});

// Sidebar toggle
document.addEventListener('DOMContentLoaded', function() {
  const hamburger = document.getElementById('hamburger');
  const overlay = document.getElementById('overlay');
  const adminSidebar = document.getElementById('adminSidebar');
  const memberSidebar = document.getElementById('memberSidebar');

  const toggleSidebar = () => {
    if (window.innerWidth > 768) return;
    [adminSidebar, memberSidebar].forEach(sb => sb?.classList.toggle('active'));
    hamburger?.classList.toggle('active');
    overlay?.classList.toggle('active');
  };

  hamburger?.addEventListener('click', toggleSidebar);
  overlay?.addEventListener('click', toggleSidebar);
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') toggleSidebar();
  });
  document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
      if (window.innerWidth <= 768) toggleSidebar();
    });
  });

  // === ADMIN TAB NAVIGATION ===
  const adminNavLinks = document.querySelectorAll('#adminNav .nav-link');
  const adminTabContents = document.querySelectorAll('#adminDashboard .tab-content');
  const adminPageTitle = document.getElementById('adminPageTitle');
  if (adminNavLinks.length > 0) {
    adminNavLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        adminNavLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        const tabId = this.getAttribute('data-tab') + 'Tab';
        adminTabContents.forEach(tab => {
          if (tab.id === tabId) {
            tab.classList.remove('hidden');
          } else {
            tab.classList.add('hidden');
          }
        });
        const titles = {
          dashboard: 'Administrator Dashboard',
          members: 'Manage Members',
          savings: 'Update Savings',
          loans: 'Loan Management',
          reports: 'Financial Reports',
          guarantees: 'Guarantee Management',
          settings: 'Admin Settings'
        };
        adminPageTitle.textContent = titles[this.getAttribute('data-tab')] || 'Admin Dashboard';
      });
    });
  }

  // === MEMBER TAB NAVIGATION ===
  const memberNavLinks = document.querySelectorAll('#memberNav .nav-link');
  const memberTabContents = document.querySelectorAll('#memberDashboard .tab-content');
  const memberPageTitle = document.getElementById('memberPageTitle');
  if (memberNavLinks.length > 0) {
    memberNavLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        memberNavLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        const tabName = this.getAttribute('data-tab');
        let tabId = '';
        switch(tabName) {
          case 'dashboard': tabId = 'memberDashboardTab'; break;
          case 'savings': tabId = 'memberSavingsTab'; break;
          case 'borrow': tabId = 'memberBorrowTab'; break;
          case 'guarantee-request': tabId = 'memberGuaranteeRequestTab'; break;
          case 'guarantee-approve': tabId = 'memberGuaranteeApproveTab'; break;
          case 'history': tabId = 'memberHistoryTab'; break;
          case 'report': tabId = 'memberReportTab'; break;
          case 'guarantees': tabId = 'memberGuaranteesTab'; break;
          default: tabId = 'memberDashboardTab';
        }
        memberTabContents.forEach(tab => {
          if (tab.id === tabId) {
            tab.classList.remove('hidden');
          } else {
            tab.classList.add('hidden');
          }
        });
        const titles = {
          dashboard: 'Member Dashboard',
          savings: 'My Savings',
          borrow: 'Borrow Funds',
          'guarantee-request': 'Request Guarantee',
          'guarantee-approve': 'Approve Guarantee',
          history: 'Transaction History',
          report: 'Savings Report',
          guarantees: 'My Guarantees'
        };
        memberPageTitle.textContent = titles[tabName] || 'Member Dashboard';
      });
    });
  }

  // ==============================
  // ✅ MEMBER ACTIONS
  // ==============================

  // Download Savings Statement
  document.querySelector('.download-savings-statement')?.addEventListener('click', () => {
    alert('📄 Generating your Savings Statement PDF...\n(Saved to Downloads folder)');
  });

  // Download Full Report PDF
  document.querySelector('.download-report-pdf')?.addEventListener('click', () => {
    alert('📄 Downloading Full Savings Report as PDF...');
  });

  // View Guarantee Requests
  document.getElementById('viewGuaranteeRequests')?.addEventListener('click', () => {
    alert('👀 Showing your pending guarantee requests...');
  });

  // Request Guarantors
  document.getElementById('requestGuaranteeBtn')?.addEventListener('click', () => {
    alert('📨 Sending guarantee request to selected members...');
  });

  // Submit Guarantee Request
  document.getElementById('submitGuaranteeRequest')?.addEventListener('click', () => {
    alert('✅ Guarantee request submitted successfully!');
  });

  // Approve/Reject Guarantee
  document.querySelectorAll('.approve-guarantee').forEach(btn => {
    btn.addEventListener('click', () => {
      alert('✅ Guarantee approved! The borrower will be notified.');
    });
  });
  document.querySelectorAll('.reject-guarantee').forEach(btn => {
    btn.addEventListener('click', () => {
      alert('❌ Guarantee rejected.');
    });
  });

  // ==============================
  // ✅ ADMIN ACTIONS
  // ==============================

  // Configure Security
  document.querySelector('.configure-security')?.addEventListener('click', () => {
    alert('🔐 Opening security configuration panel...');
  });

  // Edit Group Info
  document.querySelector('.edit-group-info')?.addEventListener('click', () => {
    alert('✏️ Editing group information...');
  });

  // Add Admin User
  document.querySelector('.add-admin-user')?.addEventListener('click', () => {
    const user = prompt('Enter new admin username:');
    const pass = prompt('Enter secure password:');
    if (user && pass) {
      alert(`✅ Admin "${user}" created successfully!\nDefault role: Administrator`);
    }
  });

  // Edit Member
  document.querySelectorAll('.edit-member').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = e.target.closest('button').dataset.id;
      alert(`✏️ Editing member: ${id}`);
    });
  });

  // Delete Member
  document.querySelectorAll('.delete-member').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = e.target.closest('button').dataset.id;
      if (confirm(`⚠️ Are you sure you want to delete member ${id}?`)) {
        const row = e.target.closest('tr');
        row.remove();
        alert(`🗑️ Member ${id} deleted.`);
      }
    });
  });

  // Add New Member
  const addMemberBtn = document.getElementById('addMemberBtn');
  const saveMemberBtn = document.getElementById('saveMemberBtn');
  const cancelAddMember = document.getElementById('cancelAddMember');
  const addMemberForm = document.getElementById('addMemberForm');

  if (addMemberBtn) addMemberBtn.addEventListener('click', () => addMemberForm.classList.remove('hidden'));
  if (cancelAddMember) cancelAddMember.addEventListener('click', () => addMemberForm.classList.add('hidden'));
  if (saveMemberBtn) saveMemberBtn.addEventListener('click', () => {
    const name = document.getElementById('newMemberName').value;
    const phone = document.getElementById('newMemberPhone').value;
    const location = document.getElementById('newMemberLocation').value;
    if (name && phone && location) {
      const newId = `HMS-${String(Math.floor(Math.random()*1000)).padStart(3,'0')}`;
      alert(`✅ New member added!\nID: ${newId}\nName: ${name}\nDefault PIN: 1234`);
      addMemberForm.classList.add('hidden');
      document.getElementById('newMemberName').value = '';
      document.getElementById('newMemberPhone').value = '';
      document.getElementById('newMemberLocation').value = '';
      document.getElementById('newMemberFee').value = '5000';
    } else {
      alert('❌ Please fill all fields.');
    }
  });

  // Record Savings
  const recordSavingsBtn = document.getElementById('recordSavingsBtn');
  const savingsMemberSelect = document.getElementById('savingsMemberSelect');
  const savingsForm = document.getElementById('savingsForm');
  const cancelSavings = document.getElementById('cancelSavings');
  const saveSavingsBtn = document.getElementById('saveSavingsBtn');
  const savingsMemberName = document.getElementById('savingsMemberName');

  if (savingsMemberSelect) {
    savingsMemberSelect.addEventListener('change', () => {
      const selected = savingsMemberSelect.options[savingsMemberSelect.selectedIndex];
      if (selected.value) {
        recordSavingsBtn.disabled = false;
        savingsMemberName.textContent = selected.text.split(' - ')[1] || selected.text;
      } else {
        recordSavingsBtn.disabled = true;
      }
    });
  }

  if (recordSavingsBtn) recordSavingsBtn.addEventListener('click', () => savingsForm.classList.remove('hidden'));
  if (cancelSavings) cancelSavings.addEventListener('click', () => savingsForm.classList.add('hidden'));
  if (saveSavingsBtn) saveSavingsBtn.addEventListener('click', () => {
    const amount = document.getElementById('savingsAmount').value;
    const date = document.getElementById('savingsDate').value;
    const method = document.getElementById('savingsMethod').value;
    const member = savingsMemberSelect.value;

    if (member && amount && date) {
      alert(`✅ Savings recorded!\nMember: ${member}\nAmount: UGX ${amount}\nDate: ${date}\nMethod: ${method}`);
      savingsForm.classList.add('hidden');
      savingsMemberSelect.value = '';
      recordSavingsBtn.disabled = true;
    } else {
      alert('❌ Please fill all fields.');
    }
  });

  // Edit Loan Settings
  document.getElementById('editLoanSettings')?.addEventListener('click', () => {
    alert('⚙️ Updating loan parameters...');
  });

  // Export Guarantee Report
  document.querySelector('.export-guarantee')?.addEventListener('click', () => {
    alert('📤 Exporting Guarantee Report as CSV/PDF...');
  });

  // Download PDF (Reports Tab)
  document.querySelectorAll('.download-pdf').forEach(btn => {
    btn.addEventListener('click', () => {
      alert('📄 Downloading report PDF...');
    });
  });

  // Approve Loan
  document.querySelectorAll('.approve-loan').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = e.target.dataset.id;
      const amount = e.target.dataset.amount;
      alert(`✅ Loan approved!\nMember: ${id}\nAmount: UGX ${amount}`);
    });
  });

  // INIT
  applyCurrencyFormatting();
});
</script>
</body>
</html>